@page "/ListAppoimentPaientDoctor/{CabinetId}"
@inherits ListAppoimentPatientDoctorComponentBase

@if (IsLoading == true)
{
    <WaitComponent />
}

<div class="container d-flex">
    <input @bind="DateAppoiment" type="date" class="form-control" /><button class="btn btn-dark">Search</button>
</div>
<div class="shadow-lg p-3 mb-5 alert-warning rounded">
    <p class="text-center">List Patient Treadted</p>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">NN</th>
                <th scope="col">Number Phone</th>
                <th scope="col">Delay Appoiment</th>
                  <th scope="col">Passed Appoiment</th>
               

            </tr>
        </thead>
        <tbody>
            @foreach (var item in this.planningDtosTreated)
            {
                <tr>
                    <td scope="row">@item.PatientInformation.FirstName</td>
                    <td>@item.PatientInformation.LastName</td>
                    <td>@item.PatientInformation.NationalNumber</td>
                    <td>@item.PatientInformation.NumberPhone</td>
                    <td><button class="btn btn-success">Delaye</button></td>
                    <td><button class="btn btn-primary">Passed</button></td>


                </tr>
            }


        </tbody>
    </table>
</div>
<br />
<br />

<div class="shadow-lg p-3 mb-5 alert-primary rounded">
    <p class="text-center">List Patient Still await.</p>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Full Name</th>
                <th scope="col">Count Appoiment</th>
                <th scope="col">NN</th>
                <th scope="col">Number Phone</th>
                <th scope="col">set absent</th>
                <th scope="col">set Treated</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in this.planningDtosStill)
            {
                <tr>
                    <td scope="row">@item.PatientInformation.FirstName -- @item.PatientInformation.LastName</td>
                    <td>@item.PatientAppoimentInformation.AppoimentCount</td>
                    <td>@item.PatientInformation.NationalNumber</td>
                    <td>@item.PatientInformation.NumberPhone</td>
                    <td>
                        <button @onclick="()=>OnAbsent(item.PatientAppoimentInformation.Id)" class="btn btn-danger">
                            absent
                            @if (IndexBtnOne == item.PatientAppoimentInformation.Id)
                            {


                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                <span class="sr-only">Loading...</span>
                            }
                        </button>
                    </td>
                    <td>
                        <button @onclick="()=>OnTreated(item.PatientAppoimentInformation.Id)" class="btn btn-warning">
                            Treatd
                            @if (IndexBtnTwo == item.PatientAppoimentInformation.Id)
                            {


                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                <span class="sr-only">Loading...</span>
                            }
                        </button>
                    </td>


                </tr>
            }


        </tbody>
    </table>
</div>
<br />
<br />
<div class="shadow-lg p-3 mb-5 alert-danger rounded">
    <p class="text-center">list Patient Absent</p>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Full Name</th>
                <th scope="col">Count Appoiment</th>
                <th scope="col">NN</th>
                <th scope="col">Number Phone</th>
                <th scope="col">Set Treated</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in this.planningDtosAbsent)
            {
                <tr>
                    <td scope="row">@item.PatientInformation.FirstName -- @item.PatientInformation.LastName</td>
                    <td>@item.PatientAppoimentInformation.AppoimentCount</td>
                    <td>@item.PatientInformation.NationalNumber</td>
                    <td>@item.PatientInformation.NumberPhone</td>
                    <td>
                        <button @onclick="()=>OnTreated(item.PatientAppoimentInformation.Id)" class="btn btn-warning">
                            Treatd
                            @if (IndexBtnTwo == item.PatientAppoimentInformation.Id)
                            {


                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                <span class="sr-only">Loading...</span>
                            }
                        </button>
                    </td>

                </tr>
            }


        </tbody>
    </table>
</div>



